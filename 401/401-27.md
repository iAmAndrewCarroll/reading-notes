# Django Models

1. The purpose of Django models is to define the structure and behavior of data in a Django application. They represent database tables and provide an abstraction layer for interacting with the database. Models help in creating and managing the database schema by defining fields, relationships, and behaviors such as validations, constraints, and queries.

     ![django model](/pics/djangomodel.png)

2. The Django Admin interface is a built-in feature that provides a user-friendly interface for managing data in the application's database. It offers CRUD (Create, Read, Update, Delete) functionality out of the box. It can be customized by defining ModelAdmin classes to specify the display, filters, search capabilities, and actions for specific models. The admin interface can also be styled and customized using templates, CSS, and JavaScript to meet the specific needs of the project.
   * Creating & editing records
   * Deleting records
   * Viewing & searching records
   * Bulk editing records
   * Importing & exporting data

3. The key components of a Django application are models, views, templates, and URLs. Models define the data structure and logic, views handle requests and produce responses, templates generate the HTML output, and URLs map the URL patterns to appropriate views. The workflow typically involves a user making a request, which is routed to a view based on the URL configuration. The view interacts with models to fetch or modify data and renders a template to produce the response, which is then sent back to the user's browser.
   * Models: define the data that your application will store in teh database
   * Views: responsible for handling requests and returning a response
   * Templates: used to render the HTML pages that are displayed to the user
   * URLs: map requests from the user to views
   * Middleware: used to intercept requests and responses and perform custom processing.

# The Steps Again

1. mkdir *thing-rater*
2. cd thing-rater
3. virtual environment
4. enter venv
5. pip freeze
6. django-admin startporject thing_rater_project .
7. tree
8. python manage.py startapp things
9. tree - looking for project, application, sees all the things are there
10. touch things/urls.py
11. code .
12. python manage.py runserver to ensure that the app runs.  It will throw errors.
13. python manage.py migrate - this solves the errors; migrate prepares the database for the existing models.
14. python manage.py runserver to verify all the migrate errors are gone
15. Debug = True until you are fully ready to launch
16. Put 'things', into the INSTALLED_APPS in the settings.py file
17. Models are where we store our information
    * databases hold information in tables, rows, and columns
      * don't use python to manage themselves.
      * almost all relational databases use SQL to manage themselves
18. within models.py
    * from django.db import models
    * from django.contrib.auth import get_user_model
    * Class Thing(models.Model): **This class will be a table in the model that is doing stuff**
         name = models.CharField(max_length=128)
         rating = models.IntegerField(default=0)
         reviewer = models.ForeignKey(get_user_model(), on_delete=models.CASCADE)
19. python manage.py makemigrations 
20. python manage.py migrate
21. python manage.py createsuperuser
    * you can bypass the password warning
22. python manage.py runserver
23. admin.py
    * from django.contrib import admin
    * from .models import Thing
    * admin.site.register(Thing)
24. models.py
    * def __str__(self):
         return self.name (could be self.rating if you want. Changes the display in the user admin panel on our server)
25. **Updating Views & URLs**
26. views.py
    * from django.views.generic import ListView
    * from .models import Thing
    * class ThingListView(ListView):
         template_name = "thing_list.html"
         model = Thing
27. thing_rater_project/urls.py (project level)
    * go into project level
      * from django.contrib import admin
      * from django.urls import path, include
      * urlpatterns = [
         path('admin/', admin.site.urls),
         path('', include('things.urls'))
      ]
28. things/urls.py (Application level)
    * from django.urls import path
    * from .views import ThingListView
    * urlpatterns = [
         path('', ThingListView.as_view(), name='thing_list'),
    ]
29. Templates - shutdown server
    * mkdir templates
    * touch templates/base.html
    * touch templates/things_list.html (check in views to make sure that is what you called it)
30. base.html
    * <!DOCTYPE html>
    * <html lang="en">
31. thing_list.html
    * {% extends 'base.html' %} (Django Strawberries)(This adds on to the code in base html)
    * {% block content %}
      * <h1>Thing List</h1>
      * {% for thing in object_list %}
        * <p><a href="{% url 'thing_detail' thing.pk %}">{{ thing.name }}</a></p>
      * {% endfor %}
    * {% endblock content %}
32. Add to TEMPLATES in 'settings.py'
    * settings.py at project level
      * add TEMPLATES to 'DIRS': [BASE_DIR / 'templates'],
33. views.py
    * add DetailView to from django.view.generic import ListView, DetailView
    * new Class
      * class ThingDetailView(DetailView):
        * template_name = 'thing_detail.html'
        * model = Thing
        * context_object_name = 'things'
34. touch templates/thing_detail.html
35. thing_details.html
    * {% extends 'base.html' %}
    * {% block content %}
      * <section>
        * <h2>Thing Name: {{ thing.name }}</h2>
        * <p>Thing Rating: {{ thing.rating }}</p>
        * <p>Thing Reviewer: {{ thing.reviewer}}</p>
      *</section>
    * {% endblock content %}
36. urls.py in the app level
    * urlpattterns = [
         path('<int:pk>', ThingDetailView.as_view())
    ]
37. views.py
    * class ThingDetailView(DetailView):
      * template_name = 'thing_detail.html'
      * model = Thing
38. base.html
    * <nav>
      <ul>
         <li><a href="{% url 'thing_list' %}">Home</a></li>
      </ul>
      </nav>
      <body>
         {% block content %}
            <h1>Missing Content</h1>
         {% endblock content %}
      </body>
      </html>
39. tests.py
    * notice that in the capitalization matters. def setUp(self)
